if(NOT Lua_PARENT_DIR)
	# Native build.
    set(LUA_FOUND true)
    set(LUA_VERSION_STRING "@Lua_VERSION@")
    set(LUA_VERSION_MAJOR "@Lua_VERSION_MAJOR@")
    set(LUA_VERSION_MINOR "@Lua_VERSION_MINOR@")
    set(LUA_VERSION_PATCH "@Lua_VERSION_PATCH@")

    set(LUA_INCLUDE_DIR "@CMAKE_INSTALL_PREFIX@/include") # FIXME
    set(LUA_LIBRARIES "Lua::Lib")

    # Delua targets FIXME
    add_library(Lua::Lib INTERFACE IMPORTED)
    set_property(TARGET Lua::Lib
        PROPERTY
            INTERFACE_LINK_LIBRARIES "LuaLib ${CMAKE_DL_LIBS} ${LUA_MATH_LIBRARY}"
            INCLUDE_DIRECTORIES "${Lua_SOURCE_DIR}/src;${Lua_BINARY_DIR}/include")

    add_library(Lua::LibStatic INTERFACE IMPORTED)
    set_property(TARGET Lua::LibStatic
        PROPERTY
            INTERFACE_LINK_LIBRARIES "LuaLibStatic ${CMAKE_DL_LIBS} ${LUA_MATH_LIBRARY}"
            INCLUDE_DIRECTORIES "${Lua_SOURCE_DIR}/src;${Lua_BINARY_DIR}/include")

else(NOT Lua_PARENT_DIR)
    # Sub-project build.
    set(LUA_FOUND true)
    set(LUA_VERSION_STRING ${Lua_VERSION})
    set(LUA_VERSION_MAJOR ${Lua_VERSION_MAJOR})
    set(LUA_VERSION_MINOR ${Lua_VERSION_MINOR})
    set(LUA_VERSION_PATCH ${Lua_VERSION_PATCH})
    set(LUA_INCLUDE_DIR "${Lua_SOURCE_DIR}/src;${Lua_BINARY_DIR}/include")
    set(LUA_LIBRARIES "Lua::Lib")

    # Delua targets
    add_library(Lua::Lib INTERFACE IMPORTED)
    set_property(TARGET Lua::Lib
        PROPERTY
            INTERFACE_LINK_LIBRARIES "LuaLib ${CMAKE_DL_LIBS} ${LUA_MATH_LIBRARY}"
            INCLUDE_DIRECTORIES "${Lua_SOURCE_DIR}/src;${Lua_BINARY_DIR}/include")

    add_library(Lua::LibStatic INTERFACE IMPORTED)
    set_property(TARGET Lua::LibStatic
        PROPERTY
            INTERFACE_LINK_LIBRARIES "LuaLibStatic ${CMAKE_DL_LIBS} ${LUA_MATH_LIBRARY}"
            INCLUDE_DIRECTORIES "${Lua_SOURCE_DIR}/src;${Lua_BINARY_DIR}/include")
endif(NOT Lua_PARENT_DIR)
