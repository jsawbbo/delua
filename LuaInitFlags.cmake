macro(setundef var)
    if(NOT DEFINED ${var})
        set(${var} ${ARGN})
    endif(NOT DEFINED ${var})
endmacro(setundef)

# BUILD TYPE

setundef(CMAKE_BUILD_TYPE_INIT "Debug") # RelWithDebInfo

# COMPILER SETTINGS

setundef(CMAKE_CXX_STANDARD 11)

if(CMAKE_COMPILER_IS_GNUC)
    setundef(CMAKE_C_FLAGS_DEBUG_INIT "-ggdb3 -O0 -DDEBUG -Wall")
    setundef(CMAKE_C_FLAGS_RELWITHDEBINFO_INIT "-ggdb3 -O2")
    setundef(CMAKE_C_FLAGS_MINSIZEREL_INIT "-Os -DNDEBUG")
    setundef(CMAKE_C_FLAGS_RELEASE_INIT "-O3 -DNDEBUG")
endif(CMAKE_COMPILER_IS_GNUC)

if(CMAKE_COMPILER_IS_GNUCXX)
    setundef(CMAKE_CXX_FLAGS_DEBUG_INIT "-ggdb3 -O0 -DDEBUG -Wall")
    setundef(CMAKE_CXX_FLAGS_RELWITHDEBINFO_INIT "-ggdb3 -O2")
    setundef(CMAKE_CXX_FLAGS_MINSIZEREL_INIT "-Os -DNDEBUG")
    setundef(CMAKE_CXX_FLAGS_RELEASE_INIT "-O3 -DNDEBUG")
endif(CMAKE_COMPILER_IS_GNUCXX)

if(CMAKE_COMPILER_IS_GNUC OR CMAKE_COMPILER_IS_GNUCXX)
    setundef(CMAKE_EXE_LINKER_FLAGS_DEBUG_INIT "-ggdb3")
    setundef(CMAKE_EXE_LINKER_FLAGS_RELWITHDEBINFO_INIT "-ggdb3")

    setundef(CMAKE_SHARED_LINKER_FLAGS_DEBUG_INIT "-ggdb3")
    setundef(CMAKE_SHARED_LINKER_FLAGS_RELWITHDEBINFO_INIT "-ggdb3")

    setundef(CMAKE_MODULE_LINKER_FLAGS_DEBUG_INIT "-ggdb3")
    setundef(CMAKE_MODULE_LINKER_FLAGS_RELWITHDEBINFO_INIT "-ggdb3")
endif(CMAKE_COMPILER_IS_GNUC OR CMAKE_COMPILER_IS_GNUCXX)

# GENERATOR SETTINGS

if(DEFINED CMAKE_ECLIPSE_VERSION)
    set(CMAKE_ECLIPSE_GENERATE_SOURCE_PROJECT TRUE
        CACHE BOOL "If enabled, CMake will generate a source project for Eclipse in CMAKE_SOURCE_DIR"
        FORCE)
endif(DEFINED CMAKE_ECLIPSE_VERSION)

# DELUA SETTINGS

if(NOT DEFINED LUA_LANGUAGE_INIT)
    set(LUA_LANGUAGE_INIT C)
endif(NOT DEFINED LUA_LANGUAGE_INIT)

if(NOT DEFINED LUA_NAME_INIT)
    set(LUA_NAME_INIT "lua")
endif(NOT DEFINED LUA_NAME_INIT)

if(WINDOWS AND NOT UNIX)
    if(NOT DEFINED LUA_USE_C89_INIT)
        set(LUA_USE_C89_INIT OFF)
    endif(NOT DEFINED LUA_USE_C89_INIT)
    set(LUA_USE_WINDOWS true CACHE INTERNAL "Visual Studio compat.")
    set(LUA_DL_DLL true CACHE INTERNAL "Windows DLL support.")
endif(WINDOWS AND NOT UNIX)

# BUILD SETTINGS
setundef(LUA_BUILD_STATIC_INIT ON)
setundef(LUA_BUILD_SHARED_INIT ON)
setundef(LUA_BUILD_INTERPRETER_INIT ON)
setundef(LUA_BUILD_COMPILER_INIT ON)
